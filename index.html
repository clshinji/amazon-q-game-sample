<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>„Ç≠„ÉÉ„Ç∫„Ç¢„Éâ„Éô„É≥„ÉÅ„É£„Éº - Ê®™„Çπ„ÇØ„É≠„Éº„É´„Ç≤„Éº„É†</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
</head>
<body>
    <!-- „Ç≤„Éº„É†„Ç≥„É≥„ÉÜ„Éä -->
    <div id="gameContainer">
        <!-- „Çø„Ç§„Éà„É´ÁîªÈù¢ -->
        <div id="titleScreen" class="screen active">
            <h1>„Ç≠„ÉÉ„Ç∫„Ç¢„Éâ„Éô„É≥„ÉÅ„É£„Éº</h1>
            <div class="character-preview"></div>
            <div class="menu-buttons">
                <button id="startButton" class="game-button">„Ç≤„Éº„É†„Çπ„Çø„Éº„Éà</button>
                <button id="settingsButton" class="game-button">„Åõ„Å£„Å¶„ÅÑ</button>
            </div>
        </div>

        <!-- „É¶„Éº„Ç∂„ÉºÂêçÂÖ•ÂäõÁîªÈù¢ -->
        <div id="nameInputScreen" class="screen">
            <h2>„Å™„Åæ„Åà„Çí„ÅÑ„Çå„Å¶„Å≠</h2>
            <input type="text" id="playerNameInput" placeholder="„Å™„Åæ„Åà" maxlength="10">
            <div class="menu-buttons">
                <button id="nameConfirmButton" class="game-button">OK</button>
                <button id="nameBackButton" class="game-button secondary">„ÇÇ„Å©„Çã</button>
            </div>
        </div>

        <!-- „Çπ„ÉÜ„Éº„Ç∏ÈÅ∏ÊäûÁîªÈù¢ -->
        <div id="stageSelectScreen" class="screen">
            <h2>„Çπ„ÉÜ„Éº„Ç∏„Çí„Åà„Çâ„Çì„Åß„Å≠</h2>
            <div id="stageButtons" class="stage-grid">
                <!-- „Çπ„ÉÜ„Éº„Ç∏„Éú„Çø„É≥„ÅØÂãïÁöÑ„Å´ÁîüÊàê -->
            </div>
            <button id="stageBackButton" class="game-button secondary">„ÇÇ„Å©„Çã</button>
        </div>

        <!-- „Ç≤„Éº„É†ÁîªÈù¢ -->
        <div id="gameScreen" class="screen">
            <!-- „Ç≤„Éº„É†ÊÉÖÂ†±Ë°®Á§∫ -->
            <div id="gameUI">
                <div class="ui-top">
                    <div id="scoreDisplay">„Çπ„Ç≥„Ç¢: <span id="score">0</span></div>
                    <div id="itemDisplay">„Ç¢„Ç§„ÉÜ„É†: <span id="itemCount">0</span></div>
                    <div id="timeDisplay">„Åò„Åã„Çì: <span id="time">0</span></div>
                    <div id="livesDisplay">
                        <span class="lives-label">„É©„Ç§„Éï:</span>
                        <span id="hearts" class="hearts-container"></span>
                    </div>
                </div>
                <button id="backToStageButton" class="ui-button">üè† „ÇÇ„Å©„Çã</button>
            </div>

            <!-- „Ç≤„Éº„É†„Ç≠„É£„É≥„Éê„Çπ -->
            <canvas id="gameCanvas" width="800" height="400"></canvas>

            <!-- „Çø„ÉÉ„ÉÅÊìç‰ΩúÁî®„Éú„Çø„É≥Ôºà„É¢„Éê„Ç§„É´Ôºâ -->
            <div id="touchControls" class="touch-controls">
                <div class="control-left">
                    <button id="leftButton" class="control-button">‚Üê</button>
                    <button id="rightButton" class="control-button">‚Üí</button>
                </div>
                <div class="control-right">
                    <button id="jumpButton" class="control-button jump">„Ç∏„É£„É≥„Éó</button>
                    <button id="crouchButton" class="control-button">„Åó„ÇÉ„Åå„ÇÄ</button>
                </div>
            </div>
        </div>

        <!-- ‰∏ÄÊôÇÂÅúÊ≠¢ÁîªÈù¢ -->
        <div id="pauseScreen" class="screen overlay">
            <div class="pause-menu">
                <h2>„ÅÑ„Å°„Åò„Å¶„ÅÑ„Åó</h2>
                <div class="menu-buttons">
                    <button id="resumeButton" class="game-button">„Å§„Å•„Åë„Çã</button>
                    <button id="restartButton" class="game-button">„Åï„ÅÑ„Çπ„Çø„Éº„Éà</button>
                    <button id="pauseBackButton" class="game-button secondary">„É°„Éã„É•„Éº„Å∏</button>
                </div>
            </div>
        </div>

        <!-- „Ç≤„Éº„É†„ÇØ„É™„Ç¢ÁîªÈù¢ -->
        <div id="clearScreen" class="screen overlay">
            <div class="result-menu">
                <h2>„Çπ„ÉÜ„Éº„Ç∏„ÇØ„É™„Ç¢ÔºÅ</h2>
                <div class="result-stats">
                    <p>„Çπ„Ç≥„Ç¢: <span id="clearScore">0</span></p>
                    <p>„Çø„Ç§„É†: <span id="clearTime">0</span>Áßí</p>
                    <p>„Ç¢„Ç§„ÉÜ„É†: <span id="clearItems">0</span>ÂÄã</p>
                </div>
                <div class="menu-buttons">
                    <button id="nextStageButton" class="game-button">„Å§„Åé„ÅÆ„Çπ„ÉÜ„Éº„Ç∏„Å∏</button>
                    <button id="clearBackButton" class="game-button secondary">„ÇÇ„Å©„Çã</button>
                </div>
            </div>
        </div>

        <!-- „Ç≤„Éº„É†„Ç™„Éº„Éê„ÉºÁîªÈù¢ -->
        <div id="gameOverScreen" class="screen overlay">
            <div class="result-menu">
                <h2>„Åñ„Çì„Å≠„Çì...</h2>
                <p>„ÇÇ„ÅÜ„ÅÑ„Å°„Å© „Å°„Çá„ÅÜ„Åõ„Çì„Åó„Å¶„Åø„Çà„ÅÜÔºÅ</p>
                <div class="menu-buttons">
                    <button id="retryButton" class="game-button">„ÇÇ„ÅÜ„ÅÑ„Å°„Å©</button>
                    <button id="gameOverBackButton" class="game-button secondary">„Çπ„ÉÜ„Éº„Ç∏„Åõ„Çì„Åü„Åè</button>
                </div>
            </div>
        </div>

        <!-- Ë®≠ÂÆöÁîªÈù¢ -->
        <div id="settingsScreen" class="screen">
            <h2>„Åõ„Å£„Å¶„ÅÑ</h2>
            <div class="settings-options">
                <div class="setting-item">
                    <label>„Åä„Çì„Åå„Åè</label>
                    <button id="musicToggle" class="toggle-button">ON</button>
                </div>
                <div class="setting-item">
                    <label>„Åì„ÅÜ„Åã„Åä„Çì</label>
                    <button id="soundToggle" class="toggle-button">ON</button>
                </div>
            </div>
            <button id="settingsBackButton" class="game-button secondary">„ÇÇ„Å©„Çã</button>
        </div>
    </div>

    <!-- JavaScriptË™≠„ÅøËæº„ÅøÔºàÂêåÊúü„ÉªÈ†ÜÂ∫è‰øùË®ºÔºâ -->
    <script src="js/storage.js?v=38"></script>
    <script src="js/player.js?v=38"></script>
    <script src="js/stage.js?v=38"></script>
    <script src="js/goal-animation.js?v=38"></script>
    <script src="js/game-simple.js?v=38"></script>
    <script src="js/ui.js?v=38"></script>
    
    <!-- UIManagerÂàùÊúüÂåñ -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            if (typeof UIManager !== 'undefined') {
                window.uiManager = new UIManager();
            }
        });
    </script>
</body>
</html>
